<div class="session-form row">
  <div class="col-xs-6 col-xs-offset-3">
    <div id="error_alert" class="alert alert-danger" ng-show="error.current !== null" translate>
      {{'session.' + form.current + '.error.' + error.current}}
    </div>
    <div class="tip" ng-hide="sessionForm.$invalid && sendAttempt" translate-values="{ nick: '{{user.nick}}'}" translate>{{"session."+form.current+".tip"}}</div>
    <div class="error-tip" ng-show="sessionForm.$invalid && sendAttempt">{{"session."+form.current+".error.validation" | translate}}</div>

    <form class="session-form" role="form" name="sessionForm">
      <div>
        <div ng-repeat="field in current().fields">
          <label class="control-label sr-only" ng-attr-for="{{field.name}}" translate>{{"session."+form.current+"."+field.name}}</label>
          <input type="{{field.type || 'text'}}" class="form-control" ng-attr-id="{{field.name}}" ng-attr-name="{{field.name}}" ng-attr-placeholder="{{ 'session.'+form.current+'.'+field.name | translate }}"
             ng-pattern="field.pattern" ng-required="{{field.required}}" ng-attr-autofocus="{{field.autofocus}}" ng-model="current().values[field.name]" validation-error="'{{field.validation}}'" />
        </div>
        <input type="submit" class="btn btn-lg btn-primary btn-block session-submit-btn" ng-click="!sessionForm.$invalid ? current().submit() : sendAttempt = true" value="{{'session.'+form.current+'.button' | translate}}">
        <a ng-click="form.current='login'" ng-if="form.current!='login'" class="btn session-login-form-btn" translate>session.login.button</a>
        <a ng-click="form.current='forgotten_password'" ng-if="form.current=='login'" class="btn session-forgotten-password-form-btn" translate>session.forgotten_password.button</a>
        <a ng-click="form.current='register'" ng-if="form.current=='login'" class="btn session-register-form-btn" translate>session.register.button</a>
      </div>
    </form>
  </div>
</div>
