<div class="session-form row">
  <div class="col-xs-6 col-xs-offset-3">
    <div class="tip" ng-hide="loginForm.login.$invalid && loginForm.login.$dirty && !loginForm.login.$error.required">{{"session."+form.current+".tip" | translate}}</div>
    <div class="error-tip" ng-show="loginForm.login.$invalid && loginForm.login.$dirty && !loginForm.login.$error.required">{{"session."+form.current+".error" | translate}}</div>

    <form class="login-form" role="form" name="loginForm">
      <div ng-class="(loginForm.login.$invalid  && loginForm.login.$dirty && !loginForm.login.$error.required ) ? 'has-error' : ''">
        <div ng-repeat="field in current().fields">
          <label class="control-label sr-only" ng-attr-for="{{field.name}}" translate>{{"session."+form.current+"."+field.name}}</label>
          <input type="{{field.type || 'text'}}" class="form-control" ng-attr-id="{{field.name}}" ng-attr-name="{{field.name}}" ng-attr-placeholder="{{ 'session.'+form.current+'.'+field.name | translate }}"
             ng-pattern="field.pattern" ng-required="{{field.required}}" ng-attr-autofocus="{{field.autofocus}}" ng-model="current().values[field.name]" />
        </div>
        <input type="submit" class="btn btn-lg btn-primary btn-block" ng-click="current().submit()" value="{{'session.'+form.current+'.button' | translate}}"  ng-disabled="loginForm.login.$invalid">
        <a ng-click="form.current='login'" ng-if="form.current!='login'" class="btn" translate>session.login.button</a>
        <a ng-click="form.current='forgotten_password'" ng-if="form.current=='login'" class="btn" translate>session.forgotten_password.button</a>
        <a ng-click="form.current='register'" ng-if="form.current=='login'" class="btn" translate>session.register.button</a>
      </div>
    </form>
  </div>
</div>
