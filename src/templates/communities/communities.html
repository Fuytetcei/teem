<div id="communities" class="section communities">
  <div class="scrollable">
    <div class="scrollable-header">
      <div class="community-search">
        <div class="input-group input-group-lg">
          <span class="input-group-addon"><i class="fa fa-search fa-fw" ng-hide="creating"></i></span>
          <input type="text"
                 class="form-control"
                 ng-model="newCommunityName.name"
                 ng-blur="reset()"
                 translate
                 placeholder="{{ creating ? 'community.create.placeholder' : 'community.search.placeholder' | translate }}">
        </div>
      </div>
      <div class="community-create">
        <a class="btn btn-default btn-block btn-lg community-new-btn" ng-if="! newCommunityName.name" ng-click="new_()" overflow-ellipsis>
          {{ creating ? 'community.create.button.empty' : 'community.new.button' | translate }}
        </a>
        <a class="btn btn-default btn-block btn-lg community-create-btn"
           ng-if="newCommunityName.name"
           ng-click="create(newCommunityName.name)"
           ng-disabled="created"
           analytics-on="click"
           analytics-event="Create community"
           overflow-ellipsis>
        <span translate translate-values="{ name: '{{newCommunityName.name}}' }">community.create.button.name</span>
      </a>
    </div>
    </div>
    <div class="scrollable-content">
      <div class="community-list">
        <div class="community-item col-sm-6 col-md-4"
             ng-hide="creating && newCommunityName.name === ''"
             ng-repeat="community in communities | toArray:true | orderBy:'-numProjects || 0' | filter:newCommunityName:strict"
             ng-click="showCommunity(community.id)">
          <div class="thumbnail">
            <img alt="community photo" />
            <div class="caption">
              <h3 class="community-title" ng-bind-html="community.name | highlight:newCommunityName.name"></h3>
              <div class="community-description">
                {{ community.description }}
                TODO: get only 2 lines
              </div>
              <div class="community-project-count" translate translate-values="{ count: '{{ community.numProjects || 0}}'}">
                community.project.count
              </div>
              <div class="community-item-footer row">
                <div class="community-participant-count col-xs-3">
                  <i class="fa i-participants"></i>
                  {{ community.participants.length }}
                </div>
                <div class="community-participant-count col-xs-3">
                  TODO: like to community
                </div>
                <div class="community-participant-count col-xs-6">
                  <button class="btn btn-primary"></button>
                </div>
              </div>
            </div>
          </div>
      </div>
    </div>
  </div>
